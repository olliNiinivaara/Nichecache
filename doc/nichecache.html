<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>nichecache</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">nichecache</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple">
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="a-complete-example_toc" href="#a-complete-example">A Complete Example</a></li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#NicheCache"
    title="NicheCache[K; V; CacheSize] = ref object
  nonvalue*: V
  keys: array[CacheSize, K]
  values: array[CacheSize, V]
  locks: array[CacheSize, Lock]
  head: int
  wraplock: Lock
  wrapped: bool"><wbr />Niche<wbr />Cache<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#newNicheCache%2CV"
    title="newNicheCache[K; V; CacheSize: static int](nonvalue: V): NicheCache[K, V, CacheSize]"><wbr />new<wbr />Niche<wbr />Cache<span class="attachedType">NicheCache</span></a></li>
  <li><a class="reference" href="#put%2CNicheCache%5BK%2CV%2CCacheSize%5D%2CK%2CV"
    title="put[K; V; CacheSize](cache: NicheCache[K, V, CacheSize]; key: K; value: V)"><wbr />put<span class="attachedType">NicheCache</span></a></li>
  <li><a class="reference" href="#get%2CNicheCache%5BK%2CV%2CCacheSize%5D%2CK"
    title="get[K; V; CacheSize](cache: NicheCache[K, V, CacheSize]; key: K): V"><wbr />get<span class="attachedType">NicheCache</span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>A thread-safe generic cache with FIFO replacement policy.</p>
<p>Uses fine-grained locking so that individual items are locked during put or get, but operations targeting different keys run in parallel.</p>

<h1><a class="toc-backref" id="a-complete-example" href="#a-complete-example">A Complete Example</a></h1><pre class="listing"><span class="Keyword">import</span> <span class="Identifier">nichecache</span> <span class="Punctuation">;</span> <span class="Keyword">from</span> <span class="Identifier">times</span> <span class="Keyword">import</span> <span class="Identifier">epochTime</span>

<span class="Keyword">const</span> <span class="Identifier">fibonumber</span> <span class="Operator">=</span> <span class="DecNumber">45</span>
<span class="Keyword">var</span> <span class="Identifier">usecache</span><span class="Punctuation">:</span> <span class="Identifier">bool</span>
<span class="Keyword">var</span> <span class="Identifier">threads</span><span class="Punctuation">:</span> <span class="Identifier">array</span><span class="Punctuation">[</span><span class="DecNumber">4</span><span class="Punctuation">,</span> <span class="Identifier">Thread</span><span class="Punctuation">[</span><span class="Identifier">void</span><span class="Punctuation">]</span><span class="Punctuation">]</span>
<span class="Keyword">let</span> <span class="Identifier">cache</span> <span class="Operator">=</span> <span class="Identifier">newNicheCache</span><span class="Punctuation">[</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">fibonumber</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Operator">-</span><span class="DecNumber">1</span><span class="Punctuation">)</span>

<span class="Keyword">proc</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">int</span> <span class="Operator">=</span>
  <span class="Keyword">if</span> <span class="Identifier">n</span> <span class="Operator">&lt;=</span> <span class="DecNumber">2</span><span class="Punctuation">:</span> <span class="Punctuation">(</span> <span class="Identifier">result</span> <span class="Operator">=</span> <span class="DecNumber">1</span> <span class="Punctuation">;</span> <span class="Keyword">return</span> <span class="Punctuation">)</span>
  <span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">usecache</span><span class="Punctuation">:</span> <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">2</span><span class="Punctuation">)</span>
  <span class="Keyword">else</span><span class="Punctuation">:</span>
    <span class="Keyword">var</span> <span class="Identifier">fibo1</span> <span class="Operator">=</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">get</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Punctuation">)</span>
    <span class="Keyword">if</span> <span class="Identifier">fibo1</span> <span class="Operator">==</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">nonvalue</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Identifier">fibo1</span> <span class="Operator">=</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Punctuation">)</span> <span class="Punctuation">;</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">put</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Punctuation">,</span> <span class="Identifier">fibo1</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
    <span class="Keyword">var</span> <span class="Identifier">fibo2</span> <span class="Operator">=</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">get</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">2</span><span class="Punctuation">)</span>
    <span class="Keyword">if</span> <span class="Identifier">fibo2</span> <span class="Operator">==</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">nonvalue</span><span class="Punctuation">:</span> <span class="Punctuation">(</span><span class="Identifier">fibo2</span> <span class="Operator">=</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">2</span><span class="Punctuation">)</span> <span class="Punctuation">;</span> <span class="Identifier">cache</span><span class="Operator">.</span><span class="Identifier">put</span><span class="Punctuation">(</span><span class="Identifier">n</span> <span class="Operator">-</span> <span class="DecNumber">2</span><span class="Punctuation">,</span> <span class="Identifier">fibo2</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
    <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">fibo1</span> <span class="Operator">+</span> <span class="Identifier">fibo2</span>
  <span class="Keyword">if</span> <span class="Identifier">n</span> <span class="Operator">==</span> <span class="Identifier">fibonumber</span><span class="Punctuation">:</span> <span class="Identifier">echo</span> <span class="Identifier">fibonumber</span><span class="Punctuation">,</span> <span class="StringLit">&quot;=&quot;</span><span class="Punctuation">,</span> <span class="Identifier">result</span>

<span class="Keyword">proc</span> <span class="Identifier">startfibonacci</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span> <span class="Keyword">discard</span> <span class="Identifier">fibonacci</span><span class="Punctuation">(</span><span class="Identifier">fibonumber</span><span class="Punctuation">)</span>

<span class="Keyword">template</span> <span class="Identifier">takeTime</span><span class="Punctuation">(</span><span class="Identifier">code</span><span class="Punctuation">:</span> <span class="Identifier">untyped</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">float</span> <span class="Operator">=</span>
  <span class="Keyword">let</span> <span class="Identifier">epochstart</span> <span class="Operator">=</span> <span class="Identifier">epochTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">code</span>
  <span class="Punctuation">(</span><span class="Identifier">epochTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">-</span> <span class="Identifier">epochstart</span><span class="Punctuation">)</span> <span class="Operator">*</span> <span class="DecNumber">1000</span>

<span class="Keyword">proc</span> <span class="Identifier">run</span><span class="Punctuation">(</span><span class="Identifier">usingcache</span><span class="Punctuation">:</span> <span class="Identifier">bool</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">usecache</span> <span class="Operator">=</span> <span class="Identifier">usingcache</span>
  <span class="Keyword">let</span> <span class="Identifier">t</span> <span class="Operator">=</span> <span class="Identifier">taketime</span><span class="Punctuation">:</span>
    <span class="Keyword">for</span> <span class="Identifier">i</span> <span class="Keyword">in</span> <span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">threads</span><span class="Operator">.</span><span class="Identifier">high</span><span class="Punctuation">:</span>
      <span class="Identifier">createThread</span><span class="Punctuation">(</span><span class="Identifier">threads</span><span class="Punctuation">[</span><span class="Identifier">i</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">startfibonacci</span><span class="Punctuation">)</span>
      <span class="Identifier">joinThreads</span><span class="Punctuation">(</span><span class="Identifier">threads</span><span class="Punctuation">)</span>
  <span class="Keyword">if</span> <span class="Identifier">usecache</span><span class="Punctuation">:</span> <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;with cache: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">t</span><span class="Punctuation">,</span> <span class="StringLit">&quot; ms&quot;</span><span class="Punctuation">)</span> <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;without cache: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">t</span><span class="Punctuation">,</span> <span class="StringLit">&quot; ms&quot;</span><span class="Punctuation">)</span>

<span class="Identifier">run</span><span class="Punctuation">(</span><span class="Identifier">true</span><span class="Punctuation">)</span>
<span class="Identifier">run</span><span class="Punctuation">(</span><span class="Identifier">false</span><span class="Punctuation">)</span></pre></p>
  <div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="NicheCache"></a>
<dt><pre><a href="nichecache.html#NicheCache"><span class="Identifier">NicheCache</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">CacheSize</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">nonvalue</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">V</span>
  <span class="Identifier">keys</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">CacheSize</span><span class="Other">,</span> <span class="Identifier">K</span><span class="Other">]</span>
  <span class="Identifier">values</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">CacheSize</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">]</span>
  <span class="Identifier">locks</span><span class="Other">:</span> <span class="Identifier">array</span><span class="Other">[</span><span class="Identifier">CacheSize</span><span class="Other">,</span> <span class="Identifier">Lock</span><span class="Other">]</span>
  <span class="Identifier">head</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">wraplock</span><span class="Other">:</span> <span class="Identifier">Lock</span>
  <span class="Identifier">wrapped</span><span class="Other">:</span> <span class="Identifier">bool</span>
</pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="newNicheCache,V"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newNicheCache%2CV"><span class="Identifier">newNicheCache</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">CacheSize</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">nonvalue</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span><span class="Other">:</span> <a href="nichecache.html#NicheCache"><span class="Identifier">NicheCache</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">CacheSize</span><span class="Other">]</span></pre></dt>
<dd>

<p>Creates new NicheCache of given size.</p>
<p>Optimal size should be empirically determined for each application. Bigger cache means more hits, but search times are longer, especially for cache misses. Source file contains a benchmark that gives some guidelines on behaviour with different cache sizes and cache miss rates (run with: <tt class="docutils literal"><span class="pre">nim c -r --threads:on --d:release nichecache.nim</span></tt>).</p>
<p><tt class="docutils literal"><span class="pre">CacheSize</span></tt> must be higher than the amount of threads working on the cache.</p>
<p>If a key is not in cache, <tt class="docutils literal"><span class="pre">nonvalue</span></tt> will be returned.</p>
<p>Garbage-collectable types (string, seq, ref) cannot be used in keys or values.</p>


</dd>
<a id="put,NicheCache[K,V,CacheSize],K,V"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#put%2CNicheCache%5BK%2CV%2CCacheSize%5D%2CK%2CV"><span class="Identifier">put</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">CacheSize</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">cache</span><span class="Other">:</span> <a href="nichecache.html#NicheCache"><span class="Identifier">NicheCache</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">CacheSize</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">V</span><span class="Other">)</span></pre></dt>
<dd>

<p>Puts a new key-value pair to cache. If cache is full, oldest key gets replaced.</p>
<p>To delete a key, Put <tt class="docutils literal"><span class="pre">nonvalue</span></tt> as value.</p>
<p>To update value, just Put again - most recent value is always found first. However, old values still fill up the cache until they get replaced, so use updating sparingly. Simply put, NicheCache is not the right data structure if values need constant updating. </p>


</dd>
<a id="get,NicheCache[K,V,CacheSize],K"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#get%2CNicheCache%5BK%2CV%2CCacheSize%5D%2CK"><span class="Identifier">get</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">;</span> <span class="Identifier">V</span><span class="Other">;</span> <span class="Identifier">CacheSize</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">cache</span><span class="Other">:</span> <a href="nichecache.html#NicheCache"><span class="Identifier">NicheCache</span></a><span class="Other">[</span><span class="Identifier">K</span><span class="Other">,</span> <span class="Identifier">V</span><span class="Other">,</span> <span class="Identifier">CacheSize</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">key</span><span class="Other">:</span> <span class="Identifier">K</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">V</span></pre></dt>
<dd>

Returns the value, or <tt class="docutils literal"><span class="pre">nonvalue</span></tt> if key did not exist.

</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-05-08 10:31:20 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
